{"version":3,"file":"static/js/818.e978939f.chunk.js","mappings":"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","sources":["components/CodeBlock.jsx","components/TypingIndicator.jsx","components/Message.jsx","components/ChatLog.jsx"],"sourcesContent":["// src/components/CodeBlock.jsx\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport { FaClipboard } from 'react-icons/fa';\r\n\r\nconst CodeContainer = styled.div`\r\n  position: relative;\r\n  background-color: ${({ theme }) => theme.inputBackground};\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  overflow: auto;\r\n  font-family: 'Source Code Pro', monospace;\r\n  color: inherit;\r\n  margin: 10px 0;\r\n`;\r\n\r\nconst CopyButton = styled.button`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  background: none;\r\n  border: none;\r\n  color: ${({ theme }) => theme.textColor};\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n\r\n  &:hover {\r\n    color: ${({ theme }) => theme.messageUser};\r\n  }\r\n`;\r\n\r\nconst CodeBlock = ({ code }) => {\r\n  return (\r\n    <CodeContainer>\r\n      <CopyToClipboard text={code}>\r\n        <CopyButton aria-label=\"Copy to clipboard\">\r\n          <FaClipboard />\r\n        </CopyButton>\r\n      </CopyToClipboard>\r\n      <pre>{code}</pre>\r\n    </CodeContainer>\r\n  );\r\n};\r\n\r\nexport default CodeBlock;","// src/components/TypingIndicator.jsx\r\n\r\nimport React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nconst TypingAnimation = keyframes`\r\n  0% { opacity: 0.2; }\r\n  20% { opacity: 1; }\r\n  100% { opacity: 0.2; }\r\n`;\r\n\r\nconst IndicatorContainer = styled.div`\r\n  display: flex;\r\n  gap: 6px; /* Reduced gap between dots */\r\n  margin-top: 4px; /* Reduced margin-top */\r\n\r\n  div {\r\n    width: 8px; /* Adjusted size of dots */\r\n    height: 8px; /* Adjusted size of dots */\r\n    background-color: #667eea; /* Color of dots */\r\n    border-radius: 50%;\r\n    animation: ${TypingAnimation} 1.5s infinite; /* Animation duration */\r\n  }\r\n\r\n  div:nth-child(2) {\r\n    animation-delay: 0.3s; /* Animation delay */\r\n  }\r\n\r\n  div:nth-child(3) {\r\n    animation-delay: 0.6s; /* Animation delay */\r\n  }\r\n`;\r\n\r\nconst TypingIndicator = () => (\r\n  <IndicatorContainer>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n  </IndicatorContainer>\r\n);\r\n\r\nexport default React.memo(TypingIndicator);","import React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { FaUserCircle, FaRobot } from 'react-icons/fa'; // Import FaCog for system messages\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport CodeBlock from './CodeBlock'; // Import your CodeBlock component\r\nimport TypingIndicator from './TypingIndicator'; // Import the TypingIndicator component\r\n\r\nconst slideIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst MessageContainer = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n  max-width: ${({ $sender }) => ($sender === 'user' ? '100%' : '80%')};\r\n  flex-direction: ${({ $sender }) => ($sender === 'user' ? 'row-reverse' : 'row')};\r\n  align-self: ${({ $sender }) => ($sender === 'user' ? 'flex-end' : 'flex-start')};\r\n`;\r\n\r\nconst Avatar = styled.div`\r\n  margin-right: ${({ $sender }) => ($sender === 'user' ? '0' : '8px')};\r\n  margin-left: ${({ $sender }) => ($sender === 'user' ? '8px' : '0')};\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  img {\r\n    width: ${({ $sender }) => ($sender === 'system' ? '48px' : '24px')};\r\n    height: ${({ $sender }) => ($sender === 'system' ? '48px' : '24px')};\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n\r\nconst MessageBubble = styled.div`\r\n  padding: 10px 15px;\r\n  border-radius: 20px;\r\n  background: ${({ $sender, theme }) =>\r\n    $sender === 'user'\r\n      ? theme.messageUser\r\n      : $sender === 'openai'\r\n      ? theme.messageOpenAI\r\n      : $sender === 'system'\r\n      ? theme.messageSystem\r\n      : theme.messageError};\r\n  color: ${({ theme }) => theme.textColor};\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\r\n  animation: ${slideIn} 0.3s ease-out;\r\n  transition: background 0.3s, color 0.3s;\r\n  overflow-wrap: break-word;\r\n  word-wrap: break-word;\r\n  white-space: normal;\r\n  flex: 1;\r\n  max-width: 100%;\r\n  min-width: 0; /* Ensure the bubble can shrink as needed */\r\n  margin: 0; /* Ensure no extra margin */\r\n\r\n  @media (max-width: 768px) {\r\n    max-width: 80%;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    max-width: 70%;\r\n  }\r\n\r\n  h1, h2, h3, h4, h5, h6 {\r\n    margin: 5px 0;\r\n  }\r\n\r\n  p {\r\n    margin: 5px 0;\r\n  }\r\n\r\n  ul, ol {\r\n    padding-left: 15px;\r\n    margin: 5px 0;\r\n  }\r\n\r\n  strong {\r\n    font-weight: bold;\r\n  }\r\n\r\n  code {\r\n    background-color: rgba(27, 31, 35, 0.05);\r\n    padding: 0.2em 0.4em;\r\n    margin: 0;\r\n    font-size: 85%;\r\n    border-radius: 3px;\r\n    font-family: 'Source Code Pro', monospace;\r\n    color: inherit;\r\n  }\r\n\r\n  /* Table styling */\r\n  table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin: 10px 0;\r\n    background-color: ${({ theme }) => theme.tableBackground};\r\n  }\r\n\r\n  th, td {\r\n    border: 1px solid ${({ theme }) => theme.tableBorderColor};\r\n    padding: 8px;\r\n  }\r\n\r\n  th {\r\n    background-color: ${({ theme }) => theme.textColor};\r\n    color: ${({ theme }) => theme.background};\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\n\r\n\r\nconst Timestamp = styled.span`\r\n  display: block;\r\n  font-size: 0.75rem;\r\n  color: #ccc;\r\n  margin-top: 5px;\r\n  text-align: ${({ $sender }) => ($sender === 'user' ? 'right' : 'left')};\r\n`;\r\n\r\nconst Message = ({ message }) => {\r\n  const { sender, text, timestamp } = message;\r\n\r\n  return (\r\n    <MessageContainer $sender={sender}>\r\n      <Avatar $sender={sender}>\r\n        {sender === 'openai' && (\r\n          <FaRobot\r\n            size={24}\r\n            color={sender === 'error' ? '#dc3545' : undefined} // Error messages have red icons\r\n          />\r\n        )}\r\n        {sender === 'user' && (\r\n          <FaUserCircle size={24} />\r\n        )}\r\n        {sender === 'system' && (\r\n          <img src=\"https://avivarma.ca/images/avivarma.jpeg\" alt=\"Avi\" />\r\n        )}\r\n        {sender === 'error' && (\r\n          <FaRobot size={24} color=\"#dc3545\" />\r\n        )}\r\n      </Avatar>\r\n      <div>\r\n        <MessageBubble $sender={sender}>\r\n          {sender === 'openai' && text === 'Typing...' ? (\r\n            <TypingIndicator />\r\n          ) : (\r\n            <ReactMarkdown\r\n              remarkPlugins={[remarkGfm]}\r\n              components={{\r\n                code({ node, inline, className, children, ...props }) {\r\n                  const match = /language-(\\w+)/.exec(className || '');\r\n                  return !inline && match ? (\r\n                    <CodeBlock code={String(children).replace(/\\n$/, '')} />\r\n                  ) : (\r\n                    <code\r\n                      className={className}\r\n                      style={{\r\n                        backgroundColor: 'rgba(27,31,35,0.05)',\r\n                        padding: '0.2em 0.4em',\r\n                        borderRadius: '3px',\r\n                        fontFamily: 'Source Code Pro, monospace',\r\n                      }}\r\n                      {...props}\r\n                    >\r\n                      {children}\r\n                    </code>\r\n                  );\r\n                },\r\n                a: ({ node, href, children, ...props }) => (\r\n                  <a\r\n                    href={href}\r\n                    style={{ color: '#667eea', textDecoration: 'underline' }}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    aria-label={children && children.length > 0 ? (typeof children[0] === 'string' ? children[0] : 'Link') : 'Link'}\r\n                    {...props}\r\n                  >\r\n                    {children}\r\n                  </a>\r\n                ),\r\n              }}\r\n            >\r\n              {text}\r\n            </ReactMarkdown>\r\n          )}\r\n        </MessageBubble>\r\n        <Timestamp $sender={sender}>\r\n          {text === 'Typing...' ? 'Typing...' : timestamp}\r\n        </Timestamp>\r\n      </div>\r\n    </MessageContainer>\r\n  );\r\n};\r\n\r\nexport default React.memo(Message);\r\n","// src/components/ChatLog.jsx\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport Message from './Message';\r\n\r\nconst ChatLogContainer = styled.div`\r\n  flex: 1;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  padding: 15px; /* Reduced padding */\r\n  border-radius: 15px;\r\n  overflow-y: auto; /* Enable vertical scrolling */\r\n  margin-bottom: 20px;\r\n  box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.3);\r\n  max-height: calc(100vh - 160px); /* Set maximum height to fit within the viewport */\r\n\r\n  @media (max-width: 600px) {\r\n    height: 250px;\r\n  }\r\n\r\n  transition: background 0.3s;\r\n\r\n  /* Custom scrollbar styles */\r\n  &::-webkit-scrollbar {\r\n    width: 8px; /* Width of the scrollbar */\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: ${({ theme }) => theme.scrollbarThumb}; /* Color of the scrollbar thumb */\r\n    border-radius: 4px; /* Rounded corners for the scrollbar thumb */\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background-color: ${({ theme }) => theme.scrollbarTrack}; /* Color of the scrollbar track */\r\n  }\r\n`;\r\n\r\nconst ChatLog = ({ chatLog, theme, chatEndRef }) => ( // Accept chatEndRef as a prop\r\n  <ChatLogContainer>\r\n    {chatLog.map((message, index) => (\r\n      <Message key={index} message={message} theme={theme} />\r\n    ))}\r\n    <div ref={chatEndRef} /> {/* For auto-scrolling */}\r\n  </ChatLogContainer>\r\n);\r\n\r\nexport default React.memo(ChatLog);"],"names":["CodeContainer","styled","div","_ref","theme","inputBackground","CopyButton","button","_ref2","textColor","_ref3","messageUser","_ref4","code","_jsxs","children","_jsx","CopyToClipboard","text","FaClipboard","TypingAnimation","keyframes","IndicatorContainer","TypingIndicator","React","slideIn","MessageContainer","$sender","Avatar","_ref5","_ref6","_ref7","MessageBubble","_ref8","messageOpenAI","messageSystem","messageError","_ref9","_ref10","tableBackground","_ref11","tableBorderColor","_ref12","_ref13","background","Timestamp","span","_ref14","Message","_ref15","message","sender","timestamp","FaRobot","size","color","undefined","FaUserCircle","src","alt","ReactMarkdown","remarkPlugins","remarkGfm","components","_ref16","node","inline","className","props","match","exec","CodeBlock","String","replace","style","backgroundColor","padding","borderRadius","fontFamily","a","_ref17","href","textDecoration","target","rel","length","ChatLogContainer","scrollbarThumb","scrollbarTrack","ChatLog","chatLog","chatEndRef","map","index","ref"],"sourceRoot":""}